From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Anonymous <anonymous@electronjs.org>
Date: Thu, 20 Sep 2018 17:47:04 -0700
Subject: webview_cross_drag.patch

This allows dragging and dropping between <webview>s.

Originally landed in https://github.com/electron/libchromiumcontent/pull/267

diff --git a/content/browser/web_contents/web_contents_view_aura.cc b/content/browser/web_contents/web_contents_view_aura.cc
index 78ce9650aad29217d786e55a93ffd4c26e10d3a4..812777a6bd88a50bb90a7f5a6bf3c061284e1380 100644
--- a/content/browser/web_contents/web_contents_view_aura.cc
+++ b/content/browser/web_contents/web_contents_view_aura.cc
@@ -919,10 +919,7 @@ bool WebContentsViewAura::IsValidDragTarget(
   // for the outermost view. Inner `WebContents` will have a
   // `WebContentsViewChildFrame` so when dragging between an inner
   // `WebContents` and its embedder the view IDs will be the same.
-  bool cross_tab_drag =
-      GetRenderViewHostID(web_contents_->GetRenderViewHost()) !=
-      drag_start_->view_id;
-  return cross_tab_drag;
+  return true;
 }
 
 ////////////////////////////////////////////////////////////////////////////////
diff --git a/content/browser/web_contents/web_drag_dest_mac.mm b/content/browser/web_contents/web_drag_dest_mac.mm
index 1af80994a4a64cce27dfc8a46e6cb68bbbd51b1b..a2f1aa2f1a9792bb6978173c30cc2b9bb18108ab 100644
--- a/content/browser/web_contents/web_drag_dest_mac.mm
+++ b/content/browser/web_contents/web_drag_dest_mac.mm
@@ -389,9 +389,7 @@ - (void)resetDragStartTrackers {
 }
 
 - (bool)isValidDragTarget:(content::RenderWidgetHostImpl*)targetRWH {
-  return targetRWH->GetProcess()->GetID() == _dragStartProcessID ||
-         GetRenderViewHostID(_webContents->GetRenderViewHost()) !=
-             _dragStartViewID;
+  return YES;
 }
 
 @end
